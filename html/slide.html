<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport"
          content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
    <title>slide</title>
    <link rel="stylesheet" type="text/css" href="../css/api.css"/>
    <link rel="stylesheet" type="text/css" href="../css/aui.css"/>
    <style>
        * {
            outline: 0;
        }

        header.aui-bar-nav {
            /*background-color: #f2f2f2;*/
            border-bottom: 1px solid #52a7e2;
            background-color: #4fbcf4;
            color: #FFFFFF;
        }
    </style>
</head>
<body>
<header class="aui-bar aui-bar-nav">
    <a class="aui-pull-left" onclick="sliding();">
        <span class="aui-iconfont aui-icon-sort"></span>
    </a>
    <div class="aui-title">Answer</div>
    <a class="aui-pull-right" onclick="BackHome();">
        <span class="aui-iconfont aui-icon-home"></span>
    </a>
</header>
<script type="text/javascript" src="../script/api.js"></script>
<script>
    apiready = function () {
        $api.fixIos7Bar($api.dom('header'));

        //添加事件监听
        api.addEventListener({
            name: 'keyback'
        }, function (ret, err) {
            //api.closeWidget();//关闭应用
            BackHome();//回到首页
        });

        //打开首页
        ChangeWin('home.html');
    };

    function sliding() {
        api.openSlidPane({
            type: 'left'
        });
    }
    //回到首页
    function BackHome(){
        ChangeWin('home.html');
    }
    //变更窗口
    function ChangeWin(url) {
        var headerHeight = $api.offset($api.dom("header")).h;
        api.openFrame({
            name: url,
            url: './index/'+url,
            rect: {
                x: 0,
                y: headerHeight,
                w: api.winWidth,
                h: api.winHeight - headerHeight
            },
            bounces: false,
            vScrollBarEnabled: true,
            hScrollBarEnabled: false,
            reload:true,
            bgColor:'#ffffff'
        });
    }
    //打开新窗口
    function OpenWin(url){
        //打开首页
        api.openWin({
            name : url,
            url : './index/' + url
        });
        ChangeWin('home.html');
    }
</script>
</body>
</html>