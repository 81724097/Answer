<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport"
          content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
    <title>slide</title>
    <link rel="stylesheet" type="text/css" href="../css/api.css"/>
    <link rel="stylesheet" type="text/css" href="../css/aui.css"/>
    <style>
        * {
            outline: 0;
        }

        header {
            background-color: #f2f2f2;
            border-bottom: 1px solid #f2f2f2;
        }

        .header {
            display: -webkit-box;
            display: -webkit-flex;
            display: flex;
        }

        .header a {
            display: block;
            background-size: 30px;
            background-repeat: no-repeat;
            background-position: center;
            padding: 20px;
        }

        .title {
            line-height: 40px;
            -webkit-box-flex: 1;
            -webkit-flex: 1;
            flex: 1;
            text-align: center;
        }

        .header .menu {
            background-image: url("../image/menu.png");
        }
        .header .home{
            line-height: 40px;
            padding-right: 10px;
        }
        .aui-icon-home:before{
            font-size: 22px;
            color: #5C5F70;
        }
    </style>
</head>
<body>
<header>
    <div class="index header ">
        <a class="menu" onclick="sliding()"></a>
        <div class="title">Answer</div>
        <div class="home" onclick="BackHome()">
            <div class="aui-iconfont aui-icon-home"></div>
        </div>
    </div>
</header>
<script type="text/javascript" src="../script/api.js"></script>
<script>
    function sliding() {
        api.openSlidPane({
            type: 'left'
        });
    }
    //回到首页
    function BackHome(){
        ChangeWin('home.html');
    }
    //变更窗口
    function ChangeWin(url) {
        var $header = $api.dom("header");
        var headerHeight = $api.offset($header).h;
        api.openFrame({
            name: url,
            url: url,
            rect: {
                x: 0,
                y: headerHeight,
                w: api.winWidth,
                h: api.winHeight - headerHeight
            },
            bounces: false,
            vScrollBarEnabled: true,
            hScrollBarEnabled: false,
            reload:true
        });
    }
    //打开新窗口
    function OpenWin(url){
        //打开首页
        ChangeWin('home.html');
        api.openWin({
            name: url,
            url: './'+url
        });
    }

    apiready = function () {
        $api.fixIos7Bar($api.dom('header'));

        //添加事件监听
        api.addEventListener({
            name: 'keyback'
        }, function (ret, err) {
            //api.closeWidget();//关闭应用
            BackHome();//回到首页
        });

        //打开首页
        ChangeWin('home.html');
    };
</script>
</body>
</html>